

# 如何用PageRank揭秘希拉里邮件中的人物关系

- 整个数据集由三个文件组成：Aliaes.csv, Email.csv和Person.csv,其中Email文件记录了所有公开邮件的内容，发送者和接受者的信息。Persons这个文件统计了邮件中所有人的姓名以及对应的ID。
- 因为姓名存在别名的情况，为了将邮件中的人物进行统一，我们还需要使用Aliases文件来查询别名和人物的对应关系。 
- 整个数据集中包括9306封邮件和513个人名，数据集还是比较大的。不过这一次我们不需要对邮件的内容进行分析，只需要通过邮件的发送者和接收者（对应的Emails.csv文件中的MetadataForm和MetadataTo字段）来绘制整个关系网络。
- 因为涉及到的人物很多，因此我们需要通过PageRank算法计算每个人物在邮件关系网络中的权重，最后筛选出来最有价值的人物来进行关系网络图的绘制。

## 了解数据集合项目背景之后，我们来设计执行的流程挖掘：

- 1、数据获取
- 2、准备阶段：数据探索、数据清洗、特征选择
- 3、挖掘阶段：PR值计算、PR值筛选、网络可视化 


### 1、首先我们需要加载数据源

### 2、在准备阶段：我们需要对数据进行探索，在数据的清洗的过程中，因为邮件中存在别名的情况，因此我们需要统一人物的名称。另外邮件的正文并不在我么的考虑范围之内，只是统计邮件中的发送者和接收者，因此我们筛选MetadataFrom和MetadataTo这两个字段作为特征。同时，发送者和接收者可能存在多次邮件的往来，需要设置权重来统计两人的邮件来玩次数。次数越多代表这个边（从发送者到接收者的边）的权重越高；

### 3、在挖掘阶段：主要是对已经设置好的网络图进行PR值的计算，但是邮件中的人物有500多人，有些人的权重可能不高，我们需要筛选PR值高的人物，绘制出他们之间的来往关系。在可视化的过程中。我们可以通过结点的PR值来绘制结点的大小，PR值越大，结点的绘制尺寸越大。

更多请戳：https://zhuanlan.zhihu.com/p/146288236
